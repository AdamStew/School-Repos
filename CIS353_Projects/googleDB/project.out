SQL> SET ECHO ON
SQL> SET linesize 1000
SQL> 
SQL> /*
SQL> CIS 353 - Database Design Project
SQL> Jarod Hanko
SQL> Andrew Prins
SQL> Robert Heine
SQL> Christopher Fracassi
SQL> Adam Stewart
SQL> */
SQL> 
SQL> --
SQL> -- Drop the tables (in case they already exist)
SQL> --
SQL> 
SQL> DROP TABLE Document CASCADE CONSTRAINTS;

Table dropped.

SQL> DROP TABLE Shadow_Copy CASCADE CONSTRAINTS;

Table dropped.

SQL> DROP TABLE UserTbl CASCADE CONSTRAINTS;

Table dropped.

SQL> DROP TABLE Directory CASCADE CONSTRAINTS;

Table dropped.

SQL> DROP TABLE Webapp CASCADE CONSTRAINTS;

Table dropped.

SQL> DROP TABLE Webapp_File_Type CASCADE CONSTRAINTS;

Table dropped.

SQL> DROP TABLE Document_Sharer CASCADE CONSTRAINTS;

Table dropped.

SQL> DROP TABLE Directory_Sharer CASCADE CONSTRAINTS;

Table dropped.

SQL> 
SQL> --
SQL> -- Create the tables
SQL> --
SQL> CREATE TABLE  Document(
  2  	 ID		     INT,
  3  	 FileName	 VARCHAR2(25 char),
  4  	 FileType	 VARCHAR2(25 char),
  5  	 FileLocation	 VARCHAR2(25 char),
  6  	 FileSize	 INT,
  7  	 LastAccessed	 DATE,
  8  	 LastModified	 DATE,
  9  	 DateCreated	 DATE,
 10  	 Owner		     INT,
 11  	 DirID		 INT,
 12  	 WebApp 	     VARCHAR(25 char),
 13  	     CONSTRAINT PK_1 PRIMARY KEY (ID),
 14  	     CONSTRAINT CK_1 CHECK (Length(FileName) >= 4),
 15  	     CONSTRAINT CK_2 CHECK (DateCreated <= LastModified)
 16  );

Table created.

SQL> 
SQL> CREATE TABLE Shadow_Copy(
  2  	 DateModified	  DATE,
  3  	 DocID		  INT,
  4  	 FileLocation	  VARCHAR2(25 char),
  5  	 ModifiedBy	  INT,
  6  	 CONSTRAINT PK_2 PRIMARY KEY (DateModified, DocID)
  7  );

Table created.

SQL> 
SQL> CREATE TABLE UserTbl (
  2  	 UserID 	     INT,
  3  	 Email		     VARCHAR2(25 char),
  4  	 Name		     VARCHAR2(25 char),
  5  	 DateJoined	     DATE,
  6  	 CONSTRAINT PK_3 PRIMARY KEY (UserID)
  7  );

Table created.

SQL> 
SQL> CREATE TABLE Directory (
  2  	 ID		     INT,
  3  	 dateCreated	 DATE,
  4  	 Name		     VARCHAR2(25 char),
  5  	 Owner		     INT,
  6  	     Parent	     INT,
  7  	     CONSTRAINT PK_4 PRIMARY KEY (ID),
  8  	     CONSTRAINT CK_33 CHECK (Parent <> NULL OR ID = 1)
  9  );

Table created.

SQL> 
SQL> CREATE TABLE Webapp (
  2  	 Name		     VARCHAR2(25 char),
  3  	 Description	 VARCHAR2(40 char),
  4  	 CONSTRAINT PK_5 PRIMARY KEY(Name)
  5  );

Table created.

SQL> 
SQL> CREATE TABLE Webapp_File_Type(
  2  	 AppName	     VARCHAR2(25 char),
  3  	 AssocFileType	 VARCHAR2(25 char),
  4  	     CONSTRAINT PK_6 PRIMARY KEY (AppName, AssocFileType)
  5  );

Table created.

SQL> 
SQL> CREATE TABLE Document_Sharer(
  2  	 UserID 	   INT,
  3  	 DocID		INT,
  4  	 Permission	VarChar2(4),
  5  	 SharedDate	DATE,
  6  	 CONSTRAINT PK_7 PRIMARY KEY (UserID, DocID),
  7  	     CONSTRAINT CK_4 CHECK (Permission IN ('view', 'edit'))
  8  );

Table created.

SQL> 
SQL> CREATE TABLE Directory_Sharer (
  2  	 DirID		     INT,
  3  	 UserID 	     INT,
  4  	 Permission	     VarChar2(4),
  5  	 SharedDate	     DATE,
  6  	 CONSTRAINT PK_8 PRIMARY KEY (DirID, UserID),
  7  	     CONSTRAINT CK_5 CHECK (Permission IN ('view', 'edit'))
  8  );

Table created.

SQL> 
SQL> ALTER TABLE Document
  2  ADD     (CONSTRAINT FK_1 FOREIGN KEY (Owner) REFERENCES UserTbl(UserID),
  3  	     CONSTRAINT FK_2 FOREIGN KEY (DirID) REFERENCES Directory(ID)
  4  );

Table altered.

SQL> 
SQL> ALTER TABLE Shadow_Copy
  2  ADD CONSTRAINT FK_3 FOREIGN KEY(ModifiedBy) REFERENCES USERTbl(UserID);

Table altered.

SQL> 
SQL> ALTER TABLE Directory
  2  ADD     (CONSTRAINT FK_4 FOREIGN KEY (Owner) REFERENCES UserTbl(UserID),
  3  	     CONSTRAINT FK_5 FOREIGN KEY (Parent) REFERENCES Directory(ID)
  4  );

Table altered.

SQL> 
SQL> ALTER TABLE WebApp_File_Type
  2  ADD     CONSTRAINT FK_6 FOREIGN KEY (AppName) REFERENCES Webapp(Name);

Table altered.

SQL> 
SQL> ALTER TABLE Document_Sharer
  2  ADD(CONSTRAINT FK_7 FOREIGN KEY (DocID) REFERENCES Document(ID),
  3  	     CONSTRAINT FK_8 FOREIGN KEY (UserID) REFERENCES UserTbl(UserID)
  4  );

Table altered.

SQL> 
SQL> ALTER TABLE Directory_Sharer
  2  ADD(CONSTRAINT FK_9 FOREIGN KEY (DirID) REFERENCES Directory(ID),
  3  	     CONSTRAINT FK_10 FOREIGN KEY (UserID) REFERENCES UserTbl(UserID)
  4  );

Table altered.

SQL> 
SQL> 
SQL> SET FEEDBACK OFF
SQL> 
SQL> --
SQL> --Populate Database
SQL> --
SQL> 
SQL> alter session set NLS_DATE_FORMAT = 'MM-DD-YYYY HH:MI PM';
SQL> -- Seed Users
SQL> INSERT INTO UserTbl VALUES(1,'codemaster2@gmail.com','Kobe Marx','03-03-2005 03:33 PM');
SQL> INSERT INTO UserTbl VALUES(2,'kooldude23@yahoo.com','Kevin Smith','03-15-1969 06:23 PM');
SQL> INSERT INTO UserTbl VALUES(3,'coolguy@hotmail.com','James Potter','02-29-2004 04:50 PM');
SQL> INSERT INTO UserTbl VALUES(4,'fakeemail@mail.ru','Sergei Roldugin','12-01-2007 06:26 AM');
SQL> -- Seed Directories
SQL> INSERT INTO Directory VALUES (1, '03-03-2005 03:33 PM', '~root', 1, NULL);
SQL> INSERT INTO Directory VALUES (2, '03-15-1969 06:23 PM', '~root', 2, NULL);
SQL> INSERT INTO Directory VALUES (3, '02-29-2004 04:50 PM', '~root', 3, NULL);
SQL> INSERT INTO Directory VALUES (4, '12-01-2007 06:26 AM', '~root', 4, NULL);
SQL> INSERT INTO Directory VALUES (5, '03-03-2005 03:36 PM', 'Pics', 4, 4);
SQL> INSERT INTO Directory VALUES (6, '03-03-2005 03:39 PM', 'Docs', 1, 1);
SQL> INSERT INTO Directory VALUES (7, '03-16-1969 09:27 PM', 'TestFolder', 2, 2);
SQL> -- Seed WebApps
SQL> INSERT INTO WebApp VALUES ('FREE_IMG_VIEW3R','See images 4 free!!!!!');
SQL> INSERT INTO WebApp VALUES ('DocReadr','Innovative way to view .doc files.');
SQL> INSERT INTO WebApp VALUES ('SQLEdit','Built in SQL interpreter');
SQL> INSERT INTO WebApp VALUES ('Microsoft Excel','Official Microsoft Excel Plugin');
SQL> -- Seed WebAppFileTypes
SQL> INSERT INTO WebApp_File_Type VALUES('FREE_IMG_VIEW3R','gif');
SQL> INSERT INTO WebApp_File_Type VALUES('FREE_IMG_VIEW3R','png');
SQL> INSERT INTO WebApp_File_Type VALUES('FREE_IMG_VIEW3R','jpg');
SQL> INSERT INTO WebApp_File_Type VALUES('DocReadr','doc');
SQL> INSERT INTO WebApp_File_Type VALUES('DocReadr','docx');
SQL> INSERT INTO WebApp_File_Type VALUES('DocReadr','txt');
SQL> INSERT INTO WebApp_File_Type VALUES('DocReadr','pdf');
SQL> INSERT INTO WebApp_File_Type VALUES('SQLEdit','sql');
SQL> INSERT INTO WebApp_File_Type VALUES('Microsoft Excel','xls');
SQL> INSERT INTO WebApp_File_Type VALUES('Microsoft Excel','xlsx');
SQL> INSERT INTO WebApp_File_Type VALUES('Microsoft Excel','csv');
SQL> -- Seed Documents
SQL> INSERT INTO DOCUMENT VALUES(1,'Doc1', 'txt', '/Documents',215,'04-10-2016 06:00 PM','02-16-2016 08:00 AM', '02-15-2016 04:22 PM', 1,1, 'DocReadr');
SQL> INSERT INTO DOCUMENT VALUES(2, 'NotVirus', 'exe', '/Downloads', 2612, '01-16-2016 06:42 PM','04-14-2016 3:22 PM', '03-02-2016 04:56 PM', 2, 2, NULL);
SQL> INSERT INTO DOCUMENT VALUES(3, 'Doc3', 'sql', '/CIS353', 4, '04-12-2016 03:03 PM', '04-12-2016 03:03 AM', '04-12-2016 03:03 AM', 3, 5, 'SqlEdit');
SQL> INSERT INTO DOCUMENT VALUES(4, 'Doc4', 'doc', '/Home', 420, '04-10-2016 05:50 PM', '04-11-2016 6:11 PM', '04-01-2016 4:20 PM', 1, 6, 'DocReadr');
SQL> INSERT INTO DOCUMENT VALUES(5, 'falsified_tax_info', 'xlsx', '/Home', 309, '02-29-1996 04:44 PM', '02-29-1996 04:44 PM', '12-01-1970 7:03 PM', 2, 2, 'Microsoft Excel');
SQL> INSERT INTO DOCUMENT VALUES(6,'img1', 'jpg', '/Pictures',459,'04-14-2016 07:45 PM','04-12-2016 03:03 AM', '04-12-2016 03:03 AM', 4,5, 'FREE_IMG_VIEW3R');
SQL> INSERT INTO DOCUMENT VALUES(7,'img2', 'png', '/Pictures', 333, '04-02-2016 05:20 PM','04-01-2016 5:01 PM','03-20-2016 03:33 PM', 4,5, 'FREE_IMG_VIER3R');
SQL> INSERT INTO DOCUMENT VALUES(8,'blackmail', 'jpg', '/Pictures',572,'06-06-2015 06:42 PM','06-04-2015 03:00 AM', '06-04-2015 03:00 AM', 4,4, 'FREE_IMG_VIEW3R');
SQL> INSERT INTO DOCUMENT VALUES(9, 'img4', 'gif', '/Pictures', 3541, '10-14-2014 03:23 PM', '10-14-2014 03:23 PM', '10-10-2010 10:10 PM', 4, 5, 'FREE_IMG_VIEW3R');
SQL> INSERT INTO DOCUMENT VALUES(10,'img5', 'jpg', '/Pictures',225,'06-08-2015 08:54 PM','06-08-2015 08:54 PM', '06-08-2015 08:54 PM', 4,5, 'FREE_IMG_VIEW3R');
SQL> INSERT INTO DOCUMENT VALUES(11, 'img6', 'jpg', '/Pictures', 442, '06-08-2015 08:57 PM', '06-08-2015 08:57 PM', '06-08-2015 08:57 PM', 4, 5, 'FREE_IMG_VIEW3R');
SQL> INSERT INTO DOCUMENT VALUES(12, 'img7', 'png', '/Pictures', 734, '06-08-2015 08:59 PM', '06-08-2015 08:59 PM', '06-08-2015 08:59 PM', 4, 5, 'FREE_IMG_VIEW3R');
SQL> -- Seed Directory_Sharers
SQL> INSERT INTO Directory_Sharer VALUES(5, 1, 'view', '03-03-2005 03:39 PM');
SQL> INSERT INTO Directory_Sharer VALUES(6, 4, 'edit', '03-03-2005 03:42 PM');
SQL> INSERT INTO Directory_Sharer VALUES(7, 1, 'edit', '03-03-2005 03:39 PM');
SQL> -- Seed Document_Sharers
SQL> INSERT INTO Document_Sharer VALUES(2,1,'edit','02-15-2016 08:23 AM');
SQL> INSERT INTO Document_Sharer VALUES(3,2,'edit','04-10-2016 10:42 PM');
SQL> INSERT INTO Document_Sharer VALUES(2,3,'edit','04-11-2016 02:31 PM');
SQL> INSERT INTO Document_Sharer VALUES(3,4,'edit','04-11-2016 02:33 PM');
SQL> INSERT INTO Document_Sharer VALUES(4,5,'edit','02-28-2004 08:02 AM');
SQL> INSERT INTO Document_Sharer VALUES(2,6,'edit','04-12-2016 03:23 PM');
SQL> INSERT INTO Document_Sharer VALUES(2,7,'edit','04-01-2016 04:59 PM');
SQL> INSERT INTO Document_Sharer VALUES(3,8,'view','06-04-2015 06:00 AM');
SQL> INSERT INTO Document_Sharer VALUES(3,9,'edit','10-10-2014 07:13 PM');
SQL> INSERT INTO Document_Sharer VALUES(1,10,'edit','06-08-2015 08:50 PM');
SQL> INSERT INTO Document_Sharer VALUES(1,11,'edit','06-08-2015 08:50 PM');
SQL> INSERT INTO Document_Sharer VALUES(1,12,'edit','06-08-2015 08:50 PM');
SQL> -- Seed Shadow_Copies
SQL> INSERT INTO Shadow_Copy VALUES('02-16-2016 07:55 AM',1,'/temp/docs/',2);
SQL> INSERT INTO Shadow_Copy VALUES('04-14-2016 03:17 PM',2,'/temp/exe/',3);
SQL> INSERT INTO Shadow_Copy VALUES('04-12-2016 02:58 AM',3,'/temp/docs',2);
SQL> INSERT INTO Shadow_Copy VALUES('04-11-2016 06:06 PM',4,'/temp/docs/',3);
SQL> INSERT INTO Shadow_Copy VALUES('02-29-2004 04:39 PM',5,'/temp/data/',4);
SQL> INSERT INTO Shadow_Copy VALUES('04-12-2016 02:58 AM',6,'/temp/pics/',2);
SQL> INSERT INTO Shadow_Copy VALUES('04-01-2016 05:01 PM',7,'/temp/pics/',2);
SQL> INSERT INTO Shadow_Copy VALUES('06-04-2015 03:00 AM',8,'/temp/pics/',4);
SQL> INSERT INTO Shadow_Copy VALUES('10-14-2014 03:17 PM',9,'/temp/pics/',3);
SQL> INSERT INTO Shadow_Copy VALUES('06-08-2015 08:54 PM',10,'/temp/pics/',1);
SQL> INSERT INTO Shadow_Copy VALUES('06-08-2015 08:52 PM',11,'/temp/pics/',1);
SQL> INSERT INTO Shadow_Copy VALUES('06-08-2015 08:54 PM',12,'/temp/pics/',1);
SQL> 
SQL> SET FEEDBACK ON
SQL> COMMIT
  2  
SQL> --
SQL> -- Database Printout
SQL> --
SQL> SELECT * FROM Document;

        ID FILENAME                  FILETYPE                  FILELOCATION                FILESIZE LASTACCESSED        LASTMODIFIED        DATECREATED              OWNER      DIRID WEBAPP                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
---------- ------------------------- ------------------------- ------------------------- ---------- ------------------- ------------------- ------------------- ---------- ---------- -------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
         1 Doc1                      txt                       /Documents                       215 04-10-2016 06:00 PM 02-16-2016 08:00 AM 02-15-2016 04:22 PM          1          1 DocReadr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         2 NotVirus                  exe                       /Downloads                      2612 01-16-2016 06:42 PM 04-14-2016 03:22 PM 03-02-2016 04:56 PM          2          2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
         3 Doc3                      sql                       /CIS353                            4 04-12-2016 03:03 PM 04-12-2016 03:03 AM 04-12-2016 03:03 AM          3          5 SqlEdit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         4 Doc4                      doc                       /Home                            420 04-10-2016 05:50 PM 04-11-2016 06:11 PM 04-01-2016 04:20 PM          1          6 DocReadr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         5 falsified_tax_info        xlsx                      /Home                            309 02-29-1996 04:44 PM 02-29-1996 04:44 PM 12-01-1970 07:03 PM          2          2 Microsoft Excel                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
         6 img1                      jpg                       /Pictures                        459 04-14-2016 07:45 PM 04-12-2016 03:03 AM 04-12-2016 03:03 AM          4          5 FREE_IMG_VIEW3R                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
         7 img2                      png                       /Pictures                        333 04-02-2016 05:20 PM 04-01-2016 05:01 PM 03-20-2016 03:33 PM          4          5 FREE_IMG_VIER3R                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
         8 blackmail                 jpg                       /Pictures                        572 06-06-2015 06:42 PM 06-04-2015 03:00 AM 06-04-2015 03:00 AM          4          4 FREE_IMG_VIEW3R                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
         9 img4                      gif                       /Pictures                       3541 10-14-2014 03:23 PM 10-14-2014 03:23 PM 10-10-2010 10:10 PM          4          5 FREE_IMG_VIEW3R                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
        10 img5                      jpg                       /Pictures                        225 06-08-2015 08:54 PM 06-08-2015 08:54 PM 06-08-2015 08:54 PM          4          5 FREE_IMG_VIEW3R                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
        11 img6                      jpg                       /Pictures                        442 06-08-2015 08:57 PM 06-08-2015 08:57 PM 06-08-2015 08:57 PM          4          5 FREE_IMG_VIEW3R                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

        ID FILENAME                  FILETYPE                  FILELOCATION                FILESIZE LASTACCESSED        LASTMODIFIED        DATECREATED              OWNER      DIRID WEBAPP                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
---------- ------------------------- ------------------------- ------------------------- ---------- ------------------- ------------------- ------------------- ---------- ---------- -------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
        12 img7                      png                       /Pictures                        734 06-08-2015 08:59 PM 06-08-2015 08:59 PM 06-08-2015 08:59 PM          4          5 FREE_IMG_VIEW3R                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

12 rows selected.

SQL> SELECT * FROM Shadow_Copy;

DATEMODIFIED             DOCID FILELOCATION              MODIFIEDBY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
------------------- ---------- ------------------------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
02-16-2016 07:55 AM          1 /temp/docs/                        2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
04-14-2016 03:17 PM          2 /temp/exe/                         3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
04-12-2016 02:58 AM          3 /temp/docs                         2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
04-11-2016 06:06 PM          4 /temp/docs/                        3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
02-29-2004 04:39 PM          5 /temp/data/                        4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
04-12-2016 02:58 AM          6 /temp/pics/                        2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
04-01-2016 05:01 PM          7 /temp/pics/                        2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
06-04-2015 03:00 AM          8 /temp/pics/                        4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
10-14-2014 03:17 PM          9 /temp/pics/                        3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
06-08-2015 08:54 PM         10 /temp/pics/                        1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
06-08-2015 08:52 PM         11 /temp/pics/                        1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

DATEMODIFIED             DOCID FILELOCATION              MODIFIEDBY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
------------------- ---------- ------------------------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
06-08-2015 08:54 PM         12 /temp/pics/                        1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

12 rows selected.

SQL> SELECT * FROM UserTbl;

    USERID EMAIL                     NAME                      DATEJOINED                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
---------- ------------------------- ------------------------- -------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
         1 codemaster2@gmail.com     Kobe Marx                 03-03-2005 03:33 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
         2 kooldude23@yahoo.com      Kevin Smith               03-15-1969 06:23 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
         3 coolguy@hotmail.com       James Potter              02-29-2004 04:50 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
         4 fakeemail@mail.ru         Sergei Roldugin           12-01-2007 06:26 AM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      

4 rows selected.

SQL> SELECT * FROM Directory;

        ID DATECREATED         NAME                           OWNER     PARENT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
---------- ------------------- ------------------------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         1 03-03-2005 03:33 PM ~root                              1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
         2 03-15-1969 06:23 PM ~root                              2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
         3 02-29-2004 04:50 PM ~root                              3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
         4 12-01-2007 06:26 AM ~root                              4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
         5 03-03-2005 03:36 PM Pics                               4          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         6 03-03-2005 03:39 PM Docs                               1          1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         7 03-16-1969 09:27 PM TestFolder                         2          2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

7 rows selected.

SQL> SELECT * FROM WebApp;

NAME                      DESCRIPTION                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
------------------------- ----------------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
FREE_IMG_VIEW3R           See images 4 free!!!!!                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
DocReadr                  Innovative way to view .doc files.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
SQLEdit                   Built in SQL interpreter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
Microsoft Excel           Official Microsoft Excel Plugin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               

4 rows selected.

SQL> SELECT * FROM Webapp_File_Type;

APPNAME                   ASSOCFILETYPE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
------------------------- -------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
DocReadr                  doc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
DocReadr                  docx                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
DocReadr                  pdf                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
DocReadr                  txt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
FREE_IMG_VIEW3R           gif                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
FREE_IMG_VIEW3R           jpg                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
FREE_IMG_VIEW3R           png                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
Microsoft Excel           csv                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
Microsoft Excel           xls                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
Microsoft Excel           xlsx                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
SQLEdit                   sql                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

11 rows selected.

SQL> SELECT * FROM Document_Sharer;

    USERID      DOCID PERM SHAREDDATE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
---------- ---------- ---- -------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         2          1 edit 02-15-2016 08:23 AM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         3          2 edit 04-10-2016 10:42 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         2          3 edit 04-11-2016 02:31 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         3          4 edit 04-11-2016 02:33 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         4          5 edit 02-28-2004 08:02 AM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         2          6 edit 04-12-2016 03:23 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         2          7 edit 04-01-2016 04:59 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         3          8 view 06-04-2015 06:00 AM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         3          9 edit 10-10-2014 07:13 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         1         10 edit 06-08-2015 08:50 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         1         11 edit 06-08-2015 08:50 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

    USERID      DOCID PERM SHAREDDATE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
---------- ---------- ---- -------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         1         12 edit 06-08-2015 08:50 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

12 rows selected.

SQL> SELECT * FROM Directory_Sharer;

     DIRID     USERID PERM SHAREDDATE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
---------- ---------- ---- -------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         5          1 view 03-03-2005 03:39 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         6          4 edit 03-03-2005 03:42 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         7          1 edit 03-03-2005 03:39 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

3 rows selected.

SQL> --
SQL> 
SQL> --
SQL> --SQL QUERIES
SQL> --
SQL> 
SQL> -- Q1 - Join
SQL> -- We want to get the document filename and type for each shadow copy as well as the id of the parent
SQL> -- directory of that document (if any)
SQL> SELECT D.FileName, DY.ID, U.email
  2  FROM Shadow_Copy SC, Document D, Directory DY
  3  WHERE D.ID = SC.DocID
  4  	   AND DY.ID = D.DirID;
SELECT D.FileName, DY.ID, U.email
                          *
ERROR at line 1:
ORA-00904: "U"."EMAIL": invalid identifier 


SQL> 
SQL> -- Q2 - Self-Join
SQL> -- Get the id and name of the root directories (if they have any directories in them) along with the name and id of all of the first level directories.
SQL> SELECT A.ID, A.Name, B.ID, B.Name
  2  FROM Directory A, Directory B
  3  WHERE B.Parent = A.ID
  4  AND A.Parent IS NULL;

        ID NAME                              ID NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
---------- ------------------------- ---------- -------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         4 ~root                              5 Pics                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
         1 ~root                              6 Docs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
         2 ~root                              7 TestFolder                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

3 rows selected.

SQL> 
SQL> -- Q3 - Union
SQL> -- All users with id < 2 unioned with all users with id >3
SQL> SELECT U1.Name
  2  FROM UserTbl U1
  3  WHERE U1.UserID < 2
  4  UNION
  5  SELECT U2.Name
  6  FROM UserTbl U2
  7  WHERE U2.UserID >3;

NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
-------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
Kobe Marx                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
Sergei Roldugin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         

2 rows selected.

SQL> 
SQL> -- Q4 - Intersect
SQL> -- Select the document sharers that share both documents
SQL> SELECT B.UserID
  2  FROM Document A, Document_Sharer B
  3  WHERE A.ID = 1
  4  	     AND A.ID = B.DocID
  5  INTERSECT
  6  SELECT D.UserID
  7  FROM Document C, Document_Sharer D
  8  WHERE C.ID = 3
  9  	     AND C.ID = D.DocID;

    USERID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
         2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

1 row selected.

SQL> 
SQL> -- Q5 - Minus, Division, AVG, NON-CORRELATED SUBQUERY
SQL> -- Returns every non-root directory and the root directories that also have no files in them
SQL> SELECT Dir.ID, Dir.Name
  2  FROM Directory Dir
  3  WHERE NOT EXISTS(
  4  	     (SELECT Dir.ID, Dir.Name
  5  	     FROM Document D
  6  	     WHERE Dir.ID = DirID)
  7  	     MINUS
  8  	     (SELECT DISTINCT Dir.ID, Dir.Name
  9  	     FROM Document D
 10  	     WHERE Dir.ID = D.DirID AND Dir.Parent IS NOT NULL));

        ID NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
---------- -------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
         3 ~root                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
         5 Pics                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
         6 Docs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
         7 TestFolder                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

4 rows selected.

SQL> 
SQL> -- Q6 - Sum
SQL> -- Finds the sum of all the filesizes of all the documents
SQL> SELECT SUM(FileSize)
  2  FROM Document;

SUM(FILESIZE)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
-------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         9866                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

1 row selected.

SQL> 
SQL> -- Q7 - Max
SQL> -- Finds the last date access of all the documents
SQL> SELECT MAX(LastAccessed)
  2  FROM Document;

MAX(LASTACCESSED)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
-------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
04-14-2016 07:45 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

1 row selected.

SQL> 
SQL> -- Q8 - Min
SQL> -- Finds the smallest filesize of all the documents
SQL> SELECT MIN(FileSize)
  2  FROM Document;

MIN(FILESIZE)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
-------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
            4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

1 row selected.

SQL> 
SQL> -- Q9 - GROUP BY, ORDER BY, HAVING
SQL> -- Finds the userid, user email, and the count of all their documents
SQL> -- which were modified last time they were accessed
SQL> -- for every user with 3 or more documents
SQL> SELECT U.UserID, U.Email, COUNT(*)
  2  FROM UserTbl U, Document D
  3  WHERE D.LastAccessed = D.LastModified
  4  	     AND U.UserID = D.Owner
  5  GROUP BY U.UserID, U.Email
  6  HAVING COUNT(*) > 3
  7  ORDER BY U.UserID;

    USERID EMAIL                       COUNT(*)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
---------- ------------------------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
         4 fakeemail@mail.ru                  4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         

1 row selected.

SQL> 
SQL> -- Q10 - Correlated Subquery
SQL> -- Gets the user that is the owner of document with id 1
SQL> SELECT *
  2  FROM UserTbl A
  3  WHERE A.UserID = (
  4  	 SELECT B.Owner
  5  	     FROM Document B
  6  	     WHERE A.UserID = B.Owner
  7  		     AND B.ID = 1);

    USERID EMAIL                     NAME                      DATEJOINED                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
---------- ------------------------- ------------------------- -------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
         1 codemaster2@gmail.com     Kobe Marx                 03-03-2005 03:33 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      

1 row selected.

SQL> 
SQL> -- Q11 - Outer Join
SQL> -- Selects uID and last modified date of all users' documents.
SQL> SELECT U.UserID, D.LastModified
  2  FROM UserTbl U LEFT OUTER JOIN Document D
  3  ON U.UserID = D.Owner;

    USERID LASTMODIFIED                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
---------- -------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         1 02-16-2016 08:00 AM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         2 04-14-2016 03:22 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         3 04-12-2016 03:03 AM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         1 04-11-2016 06:11 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         2 02-29-1996 04:44 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         4 04-12-2016 03:03 AM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         4 04-01-2016 05:01 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         4 06-04-2015 03:00 AM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         4 10-14-2014 03:23 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         4 06-08-2015 08:54 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         4 06-08-2015 08:57 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

    USERID LASTMODIFIED                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
---------- -------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         4 06-08-2015 08:59 PM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

12 rows selected.

SQL> 
SQL> -- Q12 - AVG
SQL> SELECT AVG(FileSize)
  2  FROM Document;

AVG(FILESIZE)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
-------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
   822.166667                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

1 row selected.

SQL> 
SQL> 
SQL> --
SQL> --Testing IC's
SQL> --
SQL> 
SQL> --Testing: PK_3
SQL> --Shouldn't be able to insert a user with an ID of 3, since it already exists.
SQL> INSERT INTO UserTbl VALUES(3,'databasestudent@mail.school.com','Wilfred Wong','07-3-2006 12:31 PM');
INSERT INTO UserTbl VALUES(3,'databasestudent@mail.school.com','Wilfred Wong','07-3-2006 12:31 PM')
                             *
ERROR at line 1:
ORA-12899: value too large for column "STEWARAD"."USERTBL"."EMAIL" (actual: 31, maximum: 25) 


SQL> --Can't update since it references other data.
SQL> UPDATE UserTbl SET UserID = 7 WHERE UserID = 4;
UPDATE UserTbl SET UserID = 7 WHERE UserID = 4
*
ERROR at line 1:
ORA-02292: integrity constraint (STEWARAD.FK_1) violated - child record found 


SQL> --Can't delete since it references other data.
SQL> DELETE FROM UserTbl WHERE UserID = 2;
DELETE FROM UserTbl WHERE UserID = 2
*
ERROR at line 1:
ORA-02292: integrity constraint (STEWARAD.FK_1) violated - child record found 


SQL> COMMIT
  2  
SQL> --Testing: FK_3
SQL> --Can't update since it references other data.
SQL> UPDATE UserTbl SET UserID = 7 WHERE UserID = 4;
UPDATE UserTbl SET UserID = 7 WHERE UserID = 4
*
ERROR at line 1:
ORA-02292: integrity constraint (STEWARAD.FK_1) violated - child record found 


SQL> --Can't delete since it references other data.
SQL> DELETE FROM UserTbl WHERE UserID = 1;
DELETE FROM UserTbl WHERE UserID = 1
*
ERROR at line 1:
ORA-02292: integrity constraint (STEWARAD.FK_1) violated - child record found 


SQL> COMMIT
  2  
SQL> --Testing: CK_1
SQL> --Can't insert a document with a name less than 4 chars.
SQL> INSERT INTO DOCUMENT VALUES(13,'me', 'txt', '/Documents',222,'01-01-2016 01:00 PM','01-01-2016 01:00 PM', '01-01-2015 04:32 PM', 1,1, 'DocReadr');
INSERT INTO DOCUMENT VALUES(13,'me', 'txt', '/Documents',222,'01-01-2016 01:00 PM','01-01-2016 01:00 PM', '01-01-2015 04:32 PM', 1,1, 'DocReadr')
*
ERROR at line 1:
ORA-02290: check constraint (STEWARAD.CK_1) violated 


SQL> --Can't update a document to have a name less than 4 chars.
SQL> UPDATE Document SET FileName = 'IS' WHERE ID = 2;
UPDATE Document SET FileName = 'IS' WHERE ID = 2
*
ERROR at line 1:
ORA-02290: check constraint (STEWARAD.CK_1) violated 


SQL> COMMIT
  2  
SQL> --Testing: CK_2
SQL> --Can't insert a document that was modified before it was created.
SQL> INSERT INTO DOCUMENT VALUES(13,'me', 'txt', '/Documents',222,'01-01-2016 01:00 PM','01-01-2016 01:00 PM', '01-02-2016 04:32 PM', 1,1, 'DocReadr');
INSERT INTO DOCUMENT VALUES(13,'me', 'txt', '/Documents',222,'01-01-2016 01:00 PM','01-01-2016 01:00 PM', '01-02-2016 04:32 PM', 1,1, 'DocReadr')
*
ERROR at line 1:
ORA-02290: check constraint (STEWARAD.CK_2) violated 


SQL> --Can't update a document to be modified before it was created.
SQL> UPDATE Document SET DateCreated = '06-02-2016 04:56 PM' WHERE ID = 2;
UPDATE Document SET DateCreated = '06-02-2016 04:56 PM' WHERE ID = 2
*
ERROR at line 1:
ORA-02290: check constraint (STEWARAD.CK_2) violated 


SQL> COMMIT
  2  
SQL> SPOOL OFF
